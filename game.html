<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Virtual House Painting Tool</title>
	<link rel="stylesheet" href="style.css">
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #f5f5f5;
			margin: 0;
			padding: 0;
		}
		header {
			background-color: #333;
			color: #fff;
			padding: 10px;
			text-align: center;
		}
		main {
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
		}
		section {
			margin-bottom: 20px;
		}
		canvas {
			max-width: 100%;
			height: auto;
		}
    #colorCode {
      display: inline-block;
      margin-left: 20px;
      font-size: 18px;
    }
	</style>
</head>
<body>
	<header>
		<h1>Virtual House Painting Tool</h1>
	</header>
	<main>
		<section>
			<h2>Select a New Color for Your House</h2>
			<input type="color" id="houseColor">
      <span id="colorCode"></span>
		</section>
		<section>
			<h2>Preview the New House Color</h2>
			<canvas id="previewCanvas"></canvas>
		</section>
        <section>
			<h2>Save Your New House Color</h2>
			<button id="saveBtn">Save</button>
		</section>
	</main>
	<script src="script.js"></script>
  <script>
    const houseColorInput = document.getElementById('houseColor');
    const previewCanvas = document.getElementById('previewCanvas');
    const previewCtx = previewCanvas.getContext('2d');
    const saveBtn = document.getElementById('saveBtn');
    const colorCode = document.getElementById('colorCode');

    let imageData = null;

    previewCanvas.width = 400;
    previewCanvas.height = 400;
    previewCtx.fillStyle = '#ccc';
    previewCtx.fillRect(0, 0, previewCanvas.width, previewCanvas.height);

    houseColorInput.addEventListener('input', () => {
      const color = hexToRgb(houseColorInput.value);
      previewCtx.fillStyle = `rgb(${color.r}, ${color.g}, ${color.b})`;
      previewCtx.fillRect(0, 0, previewCanvas.width, previewCanvas.height);
      imageData = previewCtx.getImageData(0, 0, previewCanvas.width, previewCanvas.height);
      colorCode.innerText = houseColorInput.value;
    });

    saveBtn.addEventListener('click', () => {
      if (!imageData) return;
      const canvasData = previewCanvas.toDataURL();
      const link = document.createElement('a');
      link.href = canvasData;
      link.download = 'my-painted-house.png';
      link.click();
      previewCtx.font = '24px Arial';
      previewCtx.fillStyle = '#000';
      previewCtx.fillText(houseColorInput.value, 20, 50);
    });

    function hexToRgb(hex) {
      const r = parseInt(hex.slice(1, 3), 16);
      const g = parseInt(hex.slice(3, 5), 16);
      const b = parseInt(hex.slice(5, 7), 16);
      return { r, g, b };
    }
  </script>
</body>
</html>

