<!DOCTYPE html>
<html>
<head>
    <title>Wagner's Painting</title>
    <style>
      /* Add your custom styles here */
      body {
        background-color:#84acd7;
        font-family: Arial, sans-serif;
        line-height: 1.5;
        margin: 0;
        padding: 0;
      }
       header {
       background-image: url(gfhomes.jpg);
       background-size: cover;
        color: #fff;
        padding: 20px;
        text-align: center;
      }
      h1 {
        font-size: 36px;
        margin: 0;
      }
      nav {
        background-color: #84acd7;
        padding: 3px;
        text-align: center;
      }
      nav a {
        color: #333;
        font-size: 18px;
        text-decoration: none;
        margin: 0 10px;
      }
      nav a:hover {
        color: #666;
      }
      nav li {
        display: inline-block;
        margin-right: 20px;
      }
      main {
        padding: 20px;
        text-align: justify;
      }
      h2 {
        color: white;
        font-size: 20px;
        text-align: left;
      }
      footer {
        background-color: #333;
        color: #fff;
        padding: 20px;
        text-align: center;
      }
        #saveBtn {
 	font-size: 24px;
  	font-weight: bold;
 	padding: 10px 20px;
  	border: none;
  	border-radius: 5px;
  	background-color: #009688;
  	color: #fff;
  	cursor: pointer;
  	transition: all 0.3s ease;
       }
      #saveBtn:hover {
      background-color: #fff;
      color: #009688;
      }
      img {
  	position: absolute;
  	top: 1;
  	right: 25px;
  	max-height: 75%; /* Set the maximum height of the image to 75% of the container height */
  	max-width: 75%; /* Set the maximum width of the image to 75% of the container width */
  	object-fit: contain;
       }
    </style>
  </head>
<body>
	<header>
				   <h1>Wagner's Painting Virtual House Painting Tool</h1>
<nav>
       	   <ul>
   	       <li><a href="index.html">Home</a></li>
  	       <li><a href="about.html">About</a></li>
   	       <li><a href="gallery.html">Gallery</a></li>
  	       <li><a href="contactus.html">Contact</a></li>
   	   </ul>
      </nav>
	</header>
	<main>
		<section>
			<h2>Upload a Picture of Your House</h2>
			<input type="file" id="houseImage" accept="image/*">
			<div id="houseImagePreview"></div>
		</section
		<section>
			<h2>Select a New Color for Your House</h2>
			<input type="color" id="houseColor">
			<span id="colorCode"></span>
		</section>
		<section>
			<h2>Preview the New House Color</h2>
			<canvas id="previewCanvas"></canvas>
		</section>
		<section>
			<h2>Save Your New House Color and Image</h2>
			<button id="saveBtn">Save</button>
		</section>
		<section>       
<a href="https://www.roddapaint.com/" target="_blank" style="font-size: 20px; font-weight: bold; color: #0099cc; text-decoration: none;">Visit Rodda Paint</a>
</section>
	</main>
	<script src="script.js"></script>
	<script>
	    const houseColorInput = document.getElementById('houseColor');
    const previewCanvas = document.getElementById('previewCanvas');
    const previewCtx = previewCanvas.getContext('2d');
    const saveBtn = document.getElementById('saveBtn');
    const colorCode = document.getElementById('colorCode');

    let imageData = null;

    previewCanvas.width = 500;
    previewCanvas.height = 500;
    previewCtx.fillStyle = '#ccc';
    previewCtx.fillRect(0, 0, previewCanvas.width, previewCanvas.height);

    houseColorInput.addEventListener('input', () => {
  const color = hexToRgb(houseColorInput.value);
  previewCtx.fillStyle = `rgb(${color.r}, ${color.g}, ${color.b})`;
  previewCtx.fillRect(0, 0, previewCanvas.width, previewCanvas.height);
  imageData = previewCtx.getImageData(0, 0, previewCanvas.width, previewCanvas.height);
  colorCode.innerText = `${houseColorInput.value} (${color.r}, ${color.g}, ${color.b})`;
  previewCtx.font = '24px Arial';
  previewCtx.fillStyle = '#000';
  previewCtx.fillText(`rgb(${color.r}, ${color.g}, ${color.b})`, 20, 80);
});


    saveBtn.addEventListener('click', () => {
      if (!imageData) return;
      const canvasData = previewCanvas.toDataURL();
      const link = document.createElement('a');
      link.href = canvasData;
      link.download = 'my-painted-house.png';
      link.click();
      previewCtx.font = '24px Arial';
      previewCtx.fillStyle = '#000';
      previewCtx.fillText(houseColorInput.value, 20, 50);
    });

    function hexToRgb(hex) {
      const r = parseInt(hex.slice(1, 3), 16);
      const g = parseInt(hex.slice(3, 5), 16);
      const b = parseInt(hex.slice(5, 7), 16);
      return { r, g, b };
    }
		const houseImageInput = document.getElementById('houseImage');
		const houseImagePreview = document.getElementById('houseImagePreview');

		houseImageInput.addEventListener('change', () => {
			const file = houseImageInput.files[0];
			if (file) {
				const reader = new FileReader();
				reader.readAsDataURL(file);
				reader.onload = () => {
					const img = document.createElement('img');
					img.src = reader.result;
					houseImagePreview.innerHTML = '';
					houseImagePreview.appendChild(img);	
  				document.getElementById('img').width = '300';
							};
			}
		});
	</script>
</body>
</html>
